<!DOCTYPE html><html lang="zh"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>golang环境配置建议 - 虞双齐的博客</title><link rel="alternate" hreflang="zh" href="https://yushuangqi.com"><meta name="renderer" content="webkit"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="MobileOptimized" content="width"><meta name="HandheldFriendly" content="true"><meta name="applicable-device" content="pc,mobile"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="theme-color" content="#f8f5ec"><meta name="msapplication-navbutton-color" content="#f8f5ec"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec"><meta name="mobile-web-app-capable" content="yes"><meta name="author" content="虞双齐"><meta name="description" content="AUTH:PHILO VERSION:1.2 开发环境的必要特征 项目管理 快速文件跳转 自动语法检查 自动补全 查找定义 启动速度快 如果自己有需求的话插件可以随便写 灵活的运行配置 (project,lint,hint,autocomplete) 要实现上面几"><meta name="keywords" content="智能合约开发, Go语言, 区块链技术"><meta name="generator" content="Hugo 0.37.1"><link rel="canonical" href="https://yushuangqi.com/blog/2016/golang-huan-jing-pei-zhi-jian-yi.html"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="icon" href="/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link href="/dist/jane.min.css?v=2.7.0" rel="stylesheet"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous"><meta property="og:title" content="golang环境配置建议"><meta property="og:description" content="AUTH:PHILO VERSION:1.2 开发环境的必要特征 项目管理 快速文件跳转 自动语法检查 自动补全 查找定义 启动速度快 如果自己有需求的话插件可以随便写 灵活的运行配置 (project,lint,hint,autocomplete) 要实现上面几"><meta property="og:type" content="article"><meta property="og:url" content="https://yushuangqi.com/blog/2016/golang-huan-jing-pei-zhi-jian-yi.html"><meta property="article:published_time" content="2016-12-31T11:34:35&#43;08:00"><meta property="article:modified_time" content="2016-12-31T11:34:35&#43;08:00"><meta itemprop="name" content="golang环境配置建议"><meta itemprop="description" content="AUTH:PHILO VERSION:1.2 开发环境的必要特征 项目管理 快速文件跳转 自动语法检查 自动补全 查找定义 启动速度快 如果自己有需求的话插件可以随便写 灵活的运行配置 (project,lint,hint,autocomplete) 要实现上面几"><meta itemprop="datePublished" content="2016-12-31T11:34:35&#43;08:00"><meta itemprop="dateModified" content="2016-12-31T11:34:35&#43;08:00"><meta itemprop="wordCount" content="1988"><meta itemprop="keywords" content="golang,"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="golang环境配置建议"><meta name="twitter:description" content="AUTH:PHILO VERSION:1.2 开发环境的必要特征 项目管理 快速文件跳转 自动语法检查 自动补全 查找定义 启动速度快 如果自己有需求的话插件可以随便写 灵活的运行配置 (project,lint,hint,autocomplete) 要实现上面几"><!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]--><!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]--></head><body><div id="mobile-navbar" class="mobile-navbar"><div class="mobile-header-logo"><a href="/" class="logo">虞双齐的博客</a></div><div class="mobile-navbar-icon"><span></span> <span></span> <span></span></div></div><nav id="mobile-menu" class="mobile-menu slideout-menu"><ul class="mobile-menu-list"><a href="/"><li class="mobile-menu-item">首页</li></a><a href="/series.html"><li class="mobile-menu-item">专题</li></a><a href="/categories.html"><li class="mobile-menu-item">分类</li></a><a href="/tags.html"><li class="mobile-menu-item">标签</li></a><a href="/post.html"><li class="mobile-menu-item">归档</li></a><a href="/about.html"><li class="mobile-menu-item">关于</li></a></ul></nav><header id="header" class="header container"><div class="logo-wrapper"><a href="/" class="logo">虞双齐的博客</a></div><nav class="site-navbar"><ul id="menu" class="menu"><li class="menu-item"><a class="menu-item-link" href="/">首页</a></li><li class="menu-item"><a class="menu-item-link" href="/series.html">专题</a></li><li class="menu-item"><a class="menu-item-link" href="/categories.html">分类</a></li><li class="menu-item"><a class="menu-item-link" href="/tags.html">标签</a></li><li class="menu-item"><a class="menu-item-link" href="/post.html">归档</a></li><li class="menu-item"><a class="menu-item-link" href="/about.html">关于</a></li></ul></nav></header><div id="mobile-panel"><main id="main" class="main bg-llight"><div class="content-wrapper"><div id="content" class="content container"><article class="post bg-white"><header class="post-header"><h1 class="post-title">golang环境配置建议</h1><div class="post-meta"><span class="post-time">2016-12-31</span><div class="post-category"><a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E4%B8%8E%E5%BC%80%E5%8F%91.html">编程语言与开发</a></div><span class="more-meta">约 1988 字 </span><span class="more-meta">预计阅读 4 分钟</span></div></header><div class="post-toc" id="post-toc"><h2 class="post-toc-title">文章目录</h2><div class="post-toc-content always-active"><nav id="TableOfContents"><ul><li><ul><li><a href="#auth-philo-http-philo-top-about-version-1-2">AUTH:<a href="http://philo.top/about">PHILO</a> VERSION:1.2</a></li><li><a href="#开发环境的必要特征">开发环境的必要特征</a><ul><li><a href="#project-lint-hint-autocomplete">(project,lint,hint,autocomplete)</a></li></ul></li><li><a href="#我的大环境">我的大环境</a></li><li><a href="#go-环境安装">go 环境安装</a></li><li><a href="#项目管理-自动文件跳转">项目管理，自动文件跳转</a></li><li><a href="#自动语法检-自动补全">自动语法检，自动补全</a></li><li><a href="#灵活的运行">灵活的运行</a></li><li><a href="#总结">总结</a><ul><li><a href="#我的key-map">我的key map</a></li></ul></li><li><a href="#感谢golang">感谢golang</a></li></ul></li></ul></nav></div></div><div class="post-content"><h2 id="auth-philo-http-philo-top-about-version-1-2">AUTH:<a href="http://philo.top/about">PHILO</a> VERSION:1.2</h2><h2 id="开发环境的必要特征">开发环境的必要特征</h2><ol><li>项目管理</li><li>快速文件跳转</li><li>自动语法检查</li><li>自动补全</li><li>查找定义</li><li>启动速度快</li><li>如果自己有需求的话插件可以随便写</li><li>灵活的运行配置</li></ol><h3 id="project-lint-hint-autocomplete">(project,lint,hint,autocomplete)</h3><p>要实现上面几点我们来一步一步的配置。</p><h2 id="我的大环境">我的大环境</h2><ol><li>OSX</li><li>GO 1.4</li><li>HomeBrew</li></ol><h2 id="go-环境安装">go 环境安装</h2><p>这一部分是最重要的，如果没有它，每次build的时候出现 <strong>too many errors</strong> 心里真的是非常难过的。</p><ul><li><p>环境配置：（golint,gooracle,mercurial）</p><ol><li>安装mercurial: brew install mercurial&gt; 这个东西是用来做版本管理的，也是下载代码的工具类似git，貌似google的项目用的挺多的。<br></li><li><p>安装golint：</p><pre><code>$ go get github.com/golang/lint
$ go install github.com/golang/lint
</code></pre></li></ol></li><li><p>安装gooracle</p><pre><code>go get code.google.com/p/go.tools/cmd/oracle
</code></pre></li><li><p>安装goimport</p><pre><code>go get golang.org/x/tools/cmd/goimports
</code></pre></li><li><p>安装gocode</p><pre><code>go get -u github.com/nsf/gocode
</code></pre></li><li><p>安装 godef</p><pre><code>go get -v code.google.com/p/rog-go/exp/cmd/godef
go install -v code.google.com/p/rog-go/exp/cmd/godef
</code></pre><ul><li><p>安装环境的时候经常会出现下载不下来的问题，大概是我网络不好吧。连接google经常出现问题。&gt; 解决方案：</p><blockquote><p>golang中国的下载频道中有一个第三方包的下载工具，只要输入地址之后人家会给你提供下载tar包的。<br>放到gopath中就ok了。<br>此步骤只能替代go get的步骤，最后还是需要go install</p></blockquote></li><li><p>go install 之后会在 <strong><code>$GOPATH/bin/</code></strong> 中出现各种工具文件</p></li></ul><ol><li>gocode 提供代码补全</li><li>godef 代码跳转</li><li>gofmt 自动代码整理</li><li>golint 代码语法检查</li><li>goimports 自动整理imports</li><li>oracle 代码callgraph查询（plugin中还在todolist中，但是不配置一直报错。实在烦。）<br>&gt; 最后不要忘记复制上面的命令到 <strong>\$GOROOT/bin/</strong>下面</li></ol><ul><li><p>最后的配置结果(安装完之后 Package-&gt;Go Plus-&gt;Display Go Information)</p><pre><code>Cover Tool: /usr/local/go/pkg/tool/darwin_amd64/cover
Vet Tool: /usr/local/go/pkg/tool/darwin_amd64/vet
Format Tool: /Users/Li-jianying/git/bin/goimports
Lint Tool: /usr/local/go/bin/golint
Gocode Tool: /Users/Li-jianying/git/bin/gocode
Gocode Status: Enabled
Oracle Tool: /Users/Li-jianying/git/bin/oracle
Git: /usr/bin/git
Mercurial: /usr/local/Cellar/mercurial/3.2.1/bin/hg
PATH: /usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/go/bin
</code></pre></li></ul><p>没有红色的行就没有问题了。</p></li></ul><h2 id="项目管理-自动文件跳转">项目管理，自动文件跳转</h2><ol><li><p>插件：project-manager&gt; 这个插件是非常hot的，在atom.io的首页上排名还是非常靠前的。</p></li><li><p>使用细节：</p><ol><li>配合tree view <code>（ cmd - \）</code> 打开关闭project file</li><li><p>搜索项目文件 <strong><code>（ cmd -t ）</code></strong>&gt; 输入的时候按照顺序输入关键字</p><blockquote><p>比如说 user模块的controll中的go源代码<br>搜索的时候可以使用多个快捷键 =》 user controll go<br>就可以准确的找到源代码了</p></blockquote><ol><li>打开项目列表 <strong><code>（ ctrl-cmd-p ）</code></strong>&gt; 然后就会显示出来一个项目列表回车就可以打开项目。</li></ol></li></ol></li><li><p>总结：</p><blockquote><p>感觉这个插件的treeview用途的确不是很大，因为正常项目的项目文件会很多。<br>不过是快速打开项目（文件夹）是非常方便的，配合快速打开文件还是相当爽的。</p></blockquote></li><li><p>按快捷键之后的效果展示：<br>[](<a href="http://7viiaq.com1.z0.glb.clouddn.com/pm.png">http://7viiaq.com1.z0.glb.clouddn.com/pm.png</a>)</p><h2 id="自动语法检-自动补全">自动语法检，自动补全</h2></li><li><p>插件go-plus,autocomplete-plus(dependance),gocode<br>使用 apm install 安装就可以了。速度还可以。</p></li><li><p>使用细节 <strong>在保存的时候</strong></p><ol><li>会自动补上imports</li><li><p>会自动整理代码&gt; 比如说 a:=5 会变成 a := 5</p><blockquote><p>两个空行自动变成一个空格</p></blockquote></li><li><p>lint自动检查语法错误（go build 的错误都会显示出来）</p></li><li><p>vet会自动检查语法拼写建议&gt; 函数，结构体 会提示补上注释。<br>&gt; 比如说会提示你函数前面需要加入godoc类型的注释： // functionname<br>&gt; 注释的第一行需要使用双斜杠注释+空格+函数名+空格+简短的函数功能说明。</p></li></ol></li><li><p>使用细节： <strong>在编辑的时候</strong></p><ol><li>go-plus会配合autocomplete-plus会自动补全包名字（tab补全，回车不行，这个真心舒服）</li><li>包名.之后输入方法名开头几个字母会给出补全建议。</li></ol></li><li><p>安装之后的演示（类似go-plus官方演示）<br>[](<a href="https://camo.githubusercontent.com/dfd447388f9d6506dcdd19e6c5c431bf4211e673/687474703a2f2f636c2e6c792f696d6167652f3339327a324c3066304534312f676f2d706c75732d6578616d706c652e676966">https://camo.githubusercontent.com/dfd447388f9d6506dcdd19e6c5c431bf4211e673/687474703a2f2f636c2e6c792f696d6167652f3339327a324c3066304534312f676f2d706c75732d6578616d706c652e676966</a>)</p></li><li><p>gocode 插件自动补全演示</p><ol><li>这个插件继承自autocomplete,因为年久失修。api用的是老版本，所以一直都会出现api警告。（我是实用主义，视而不见）</li><li>gocode如果找不到就进入代码找到文件autocomplete-view.coffee 中105行写成绝对路径就肯定没有问题了。</li><li><p>绑定快捷键，因为这个插件没有绑定快捷键的文件（keymap）所以需要在keymap.cson下自己手动绑定配置如下：</p><pre><code>'.active.pane':
'ctrl-;': 'gocode:toggle'
</code></pre></li></ol></li><li><p>效果演示</p></li></ol><p>[](<a href="http://7viiaq.com1.z0.glb.clouddn.com/QQ20150208-1@2x.png">http://7viiaq.com1.z0.glb.clouddn.com/QQ20150208-1@2x.png</a>)</p><pre><code>## 查找定义
</code></pre><ol><li>插件 godef</li><li>使用细节:<br>光标在目标代码上的时候，使用快捷键<code>ctrl-k</code>跳转到目标代码的定义代码上。</li></ol><h2 id="灵活的运行">灵活的运行</h2><ol><li>安装插件atom-runner</li><li>修改源代码中的go run运行为<code>go: 'sh [绝对路径到你的全局run脚上] '+atom.project.rootDirectories[0].path</code></li><li>脚本的 \$1 会是你项目运行的路径。然后你的所有项目都可以添加一个run.sh 来指定一个构建运行的方案。</li><li>做完之后不管当前在查看什么文件都可以运行整个项目。</li><li>其他语言也可以这样做。毕竟单个文件的项目不是很常见（开发的时候）</li></ol><h2 id="总结">总结</h2><ol><li>我这里只是总结了我用的所有的golang相关的atom插件。</li><li>要相信golang使用编辑器就够用的事实了。因为 <code>go tool</code> 实在是太好用了。</li></ol><h3 id="我的key-map">我的key map</h3><ol><li><code>cmd-d</code> duplicate line</li><li><code>cmd-w</code> 关闭标签</li><li><code>cmd-r</code> 文件内的标签列表</li><li><code>cmd-e</code> 使用选中的内容做搜索的pattern</li><li><p><code>shift-cmd-f</code> project内部搜索，这个非常实用。command 配置(keymap.cson)<br>&gt;</p><pre><code>'.platform-darwin atom-text-editor':
  'shift-cmd-D': 'find-and-replace:select-next'
</code></pre></li></ol><h2 id="感谢golang">感谢golang</h2><ol><li>golang能有如此的开发体验，以及在如此低的版本中表现的这么好。实在是大牛赐予我们最好的礼物了。</li><li>golang的有如此好的开发工具加上各种扩展性比较强的编辑器（vim,emacs,sublime,atom等）开发体验的确是非常好的。</li></ol><hr><p>转自 <a href="http://www.philo.top/2015/02/06/golang-%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E5%BB%BA%E8%AE%AE/">http://www.philo.top/2015/02/06/golang-%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E5%BB%BA%E8%AE%AE/</a></p></div><div style="height:130px"><div class="post-copyright" style="float:left"><p class="copyright-item"><span class="item-title">文章作者</span> <span class="item-content">虞双齐</span></p><p class="copyright-item"><span class="item-title">上次更新</span> <span class="item-content">2016-12-31</span></p><p class="copyright-item"><span class="item-title">许可协议</span> <span class="item-content"><a target="_blank" rel="license noopener external nofollow" href="https://creativecommons.org/licenses/by/4.0/deed.zh">署名 4.0 国际</a></span></p></div><div class="post-copyright" style="float:right"><a href="https://info.flagcounter.com/8B1z" target="_blank" rel="noopener external nofollow"><img src="https://s05.flagcounter.com/countxl/8B1z/bg_FFFFFF/txt_000000/border_CCCCCC/columns_4/maxflags_12/viewers_0/labels_0/pageviews_1/flags_0/percent_0/" alt="Flag Counter" border="0"></a></div></div><div class="post-reward"><input type="checkbox" name="reward" id="reward" hidden> <label class="reward-button" for="reward">赞赏支持</label><div class="qr-code"><label class="qr-code-image" for="reward"><img class="image" src="/img/donateMe_wechat.png"> <span>微信打赏</span></label></div></div><footer class="post-footer"><div class="post-tags"><a href="/tags/golang.html">golang</a></div><nav class="post-nav"><a class="prev" href="/blog/2016/go.html"><i class="iconfont icon-left"></i> <span class="prev-text nav-default">Go</span> <span class="prev-text nav-mobile">上一篇</span> </a><a class="next" href="/blog/2016/goyu-fa.html"><span class="next-text nav-default">Go语法</span> <span class="prev-text nav-mobile">下一篇</span> <i class="iconfont icon-right"></i></a></nav></footer><div class="disqus-button" id="load_disqus" onclick="load_disqus()">显示 Disqus 评论</div><div id="disqus_thread"></div><script type="text/javascript">function load_disqus() {
        
        
        if (window.location.hostname === 'localhost') return;

        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        var disqus_shortname = 'yushuangqi';
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);

        $('#load_disqus').remove();
    };</script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></article></div></div></main><footer id="footer" class="footer"><div class="social-links"><a href="mailto:ysqi@yushuangqi.com" rel="me" class="iconfont icon-email" title="email"></a> <a href="http://github.com/ysqi" rel="me" class="iconfont icon-github" title="github"></a> <a href="https://weibo.com/234665601" rel="me" class="iconfont icon-weibo" title="weibo"></a> <a href="https://www.zhihu.com/people/_ysqi/" rel="me" class="iconfont icon-zhihu" title="zhihu"></a> <a href="https://yushuangqi.com/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a></div><div class="copyright"><span class="power-by">Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a> </span><span class="division">|</span> <span class="theme-info">Theme - <a class="theme-link" href="https://github.com/xianmin/hugo-theme-jane">Jane</a> </span><span class="copyright-year">&copy; 2014 - 2021 <span class="heart"><i class="iconfont icon-heart"></i> </span><span class="author">虞双齐 | <a href="https://beian.miit.gov.cn/">粤ICP备14032560号</a></span></span></div></footer><div class="back-to-top" id="back-to-top"><i class="iconfont icon-up"></i></div></div><script src="/lib/highlight/highlight.pack.js?v=20171001"></script><script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script><script type="text/javascript" src="/dist/jane.min.js?v=2.7.0"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX", "output/HTML-CSS"],
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
      processEscapes: true
    },
    "HTML-CSS": { fonts: ["TeX"] }
  });</script><script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script><script id="baidu_analytics">var _hmt = _hmt || [];
  (function() {
    if (window.location.hostname === 'localhost') return;
    var hm = document.createElement("script"); hm.async = true;
    hm.src = "https://hm.baidu.com/hm.js?a16b3275b071ec0efc507a05422a7156";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
  })();</script></body></html>