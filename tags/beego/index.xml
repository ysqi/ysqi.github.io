<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Beego on è™åŒé½çš„åšå®¢</title>
    <link>https://yushuangqi.com/tags/beego.html</link>
    <description>åœ¨ è™åŒé½çš„åšå®¢ä¸Šå…³äºin Beego çš„å†…å®¹</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh</language>
    <managingEditor>ysqi@yushuangqi.com (è™åŒé½)</managingEditor>
    <webMaster>ysqi@yushuangqi.com (è™åŒé½)</webMaster>
    <lastBuildDate>Sat, 31 Dec 2016 11:34:27 +0800</lastBuildDate>
    <atom:link href="/tags/beego.html" rel="self" type="application/rss+xml" />
    
    <item>
      <title>beegoè‡ªåŠ¨åŒ–æ–‡æ¡£</title>
      <link>https://yushuangqi.com/blog/2016/beegozi-dong-hua-wen-dang.html</link>
      <pubDate>Sat, 31 Dec 2016 11:34:27 +0800</pubDate>
      <author>ysqi@yushuangqi.com (è™åŒé½)</author>
      <guid>https://yushuangqi.com/blog/2016/beegozi-dong-hua-wen-dang.html</guid>
      <description>beegoæ˜¯ä»€ä¹ˆï¼Ÿ beegoæ˜¯ä¸€ä¸ªå¿«é€Ÿå¼€å‘*goåº”ç”¨*çš„httpæ¡†æ¶ï¼Œgo è¯­è¨€æŠ€æœ¯å¤§ç‰›ASTAè°¢çš„å¼€æºé¡¹ç›®ã€‚
beegoå¯ä»¥ç”¨æ¥å¿«é€Ÿå¼€å‘*API*ã€*Web*ä»¥åŠ*åç«¯æœåŠ¡*ç­‰å„ç§åº”ç”¨ï¼Œæ˜¯ä¸€ä¸ªRESTFulçš„æ¡†æ¶ï¼Œä¸»è¦è®¾è®¡çµæ„Ÿæ¥æºäºtornadoã€sinatraã€flaskè¿™ä¸‰ä¸ªæ¡†æ¶ï¼Œç»“åˆäº†Goæœ¬èº«çš„ä¸€äº›ç‰¹æ€§(interfaceã€structç»§æ‰¿ç­‰)è€Œè®¾è®¡çš„ã€‚
beegoç»“åˆswaggerå°±èƒ½å®ç°è‡ªåŠ¨åŒ–çš„æ–‡æ¡£ã€‚
Swaggeræ˜¯ä»€ä¹ˆï¼Ÿ Swagger æ˜¯ä¸€ä¸ªè§„èŒƒå’Œä¸€å¥—å®Œæ•´çš„æ¡†æ¶ï¼Œç”¨äºç”Ÿæˆã€æè¿°ã€è°ƒç”¨ä»¥åŠå¯è§†åŒ– *RESTful é£æ ¼*çš„ *Web æœåŠ¡*ã€‚
Swaggerçš„æ€»ä½“ç›®æ ‡æ˜¯ä½¿å®¢æˆ·ç«¯å’Œæ–‡ä»¶ç³»ç»ŸæœåŠ¡å™¨ä»¥åŒæ ·çš„é€Ÿåº¦æ¥æ›´æ–°ï¼Œæ–¹æ³•ï¼Œå‚æ•°å’Œæ¨¡å‹ç´§å¯†é›†æˆåˆ°æœåŠ¡å™¨ç«¯çš„ä»£ç ä¸­ï¼Œå…è®¸APIå§‹ç»ˆä¿æŒåŒæ­¥ã€‚
Swagger è®©éƒ¨ç½²ç®¡ç†å’Œä½¿ç”¨APIä»æœªå¦‚æ­¤ç®€å•ã€‚
è‡ªåŠ¨æ–‡æ¡£çš„å¥½å¤„ï¼Ÿ 1. ä¸ç”¨æ‰‹åŠ¨å†™æ–‡æ¡£äº†ï¼Œé€šè¿‡æ³¨è§£å°±å¯ä»¥è‡ªåŠ¨åŒ–æ–‡æ¡£ 2. æ–‡æ¡£å’Œä»£ç åŒæ­¥æ›´æ–°ï¼Œä»£ç æ›´æ–°ä¹‹åä¸éœ€è¦å†æ›´æ–°æ–‡æ¡£ 3. æµè§ˆå™¨å‹å¥½ 4. ä½¿ç”¨Swaggeræ¡†æ¶å¯ä»¥è°ƒè¯•APIï¼Œåœ¨æµè§ˆå™¨ç«¯å¯ä»¥çœ‹åˆ°æ›´å¤šçš„`request`å’Œ`response`ä¿¡æ¯  ä½¿ç”¨æŒ‡å— é¦–å…ˆå®‰è£…go:http://www.jianshu.com/p/943870134593
å¯ä»¥ä½¿ç”¨intelliJä½œä¸ºgoçš„IDE:[http://www.jianshu.com/p/9438&amp;hellip;
ä¹Ÿå¯ä»¥ä½¿ç”¨Atomä½œç”¨goçš„IDE:http://www.jianshu.com/p/c1d8cf274ec7
å®‰è£…beego:http://beego.me/quickstart
ä½¿ç”¨go getå®‰è£…beego:
 go get github.com/astaxie/beego
 å®‰è£…beeå·¥å…·:
 go get github.com/beego/bee
 æœªäº†æ–¹é¢å¯ä»¥æŠŠ$GOPATH/binåŠ å…¥åˆ°ä½ çš„$PATHå˜é‡ä¸­:
 export PATH=\$PATH:\$GOPATH/bin
 åˆ›å»ºä¸€ä¸ªbeegoé¡¹ç›® ä½¿ç”¨beeå·¥å…·å¯ä»¥æ–¹ä¾¿çš„åˆ›å»ºï¼Œç®¡ç†ï¼Œè¿è¡Œï¼Œæ‰“åŒ…beegoé¡¹ç›®:
 bee api beeapi
 å¿…é¡»åœ¨$GOPATH/srcçš„ç›®å½•ä¸‹åˆ›å»ºé¡¹ç›®ã€‚
ä¸ºè¯¥é¡¹ç›®æŒ‡å®šSwaggerç›®å½•:
 beego.StaticDir[&amp;rdquo;/swagger&amp;rdquo;] = &amp;ldquo;swagger&amp;rdquo;
 ä¸‹è½½Swagger:https://github.com/beego/swagger
ä¹Ÿå¯ä»¥ä¸‹è½½æœ€æ–°çš„Swagger:http://swagger.io/
æ”¾åˆ°é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹é¢ï¼Œç›®å½•åç§°ä¸ºswaggerï¼Œå’Œä¸Šé¢çš„é…ç½®ä¸€è‡´ã€‚
##è·¯ç”±è§£æ
ç›®å‰è‡ªåŠ¨åŒ–æ–‡æ¡£çš„è·¯ç”±è§„åˆ™åªæ”¯æŒNewNamespaceå†™æ³•çš„è§£æï¼Œå…¶ä»–å†™æ³•å‡½æ•°ä¸ä¼šè‡ªåŠ¨è§£æä¸ºæ–‡ç« ï¼Œå°±æ˜¯namespace+Includeçš„å†™æ³•ã€‚è€Œä¸”åªæ”¯æŒäºŒçº§è§£æï¼Œå…¶ä¸­ä¸€çº§è¡¨ç¤ºç‰ˆæœ¬å·ï¼ŒäºŒçº§è¡¨ç¤ºåº”ç”¨æ¨¡å—ã€‚
å¦‚ï¼š
 ns := beego.</description>
    </item>
    
    <item>
      <title>golangä¸­cannotuse**(typeinterface{})astype**è§£å†³æ–¹æ¡ˆ</title>
      <link>https://yushuangqi.com/blog/2016/golang-zhong--cannot-use--type-interface--as-type-jie-jue-fang-an.html</link>
      <pubDate>Sat, 31 Dec 2016 11:34:04 +0800</pubDate>
      <author>ysqi@yushuangqi.com (è™åŒé½)</author>
      <guid>https://yushuangqi.com/blog/2016/golang-zhong--cannot-use--type-interface--as-type-jie-jue-fang-an.html</guid>
      <description>https://segmentfault.com/a/
åœ¨beegoä¸­ä»sessionä¸­å–å€¼çš„æ—¶å€™ï¼Œå–å‡ºæ¥çš„æ˜¯intergace{}ï¼Œä½†æ˜¯æˆ‘å…ˆè¿”å›çš„å€¼æ˜¯intå‹ï¼Œæˆ–è€…æ˜¯stringï¼Œè¿™ä¸ªæ—¶å€™ä¼šå‡ºç°ä¸€ä¸ªé”™è¯¯ï¼š
cannot use ** ï¼ˆå˜é‡ï¼‰(type interface {}) as type **ï¼ˆç±»å‹ï¼‰
é”™è¯¯ä»£ç ï¼š
func CurrentId(ctx *context.Context) int { userStr := ctx.Input.CruSession.Get(&amp;quot;user_id&amp;quot;) return userStr }  ä»sessionä¸­å–å‡ºæ¥çš„æ˜¯ä¸€ä¸ªinterfaceç±»å‹ï¼Œæ— æ³•ç›´æ¥è½¬æ¢ï¼Œæˆ‘åœ¨ç»™user_idèµ‹å€¼çš„æ—¶å€™æ˜¯ç»™çš„intç±»å‹ã€‚
å› æ­¤ç›´æ¥å¯¹userStrè¿›è¡Œè½¬æ¢å³å¯ã€‚
æ­£ç¡®ä»£ç å¦‚ä¸‹ï¼š
func CurrentId(ctx *context.Context) int { userStr := ctx.Input.CruSession.Get(&amp;quot;user_id&amp;quot;) return userStr.(int) }  </description>
    </item>
    
    <item>
      <title>beegoçš„ORM-é…ç½®æ•°æ®åº“</title>
      <link>https://yushuangqi.com/blog/2016/beegode-orm-pei-zhi-shu-ju-ku.html</link>
      <pubDate>Sat, 31 Dec 2016 11:33:53 +0800</pubDate>
      <author>ysqi@yushuangqi.com (è™åŒé½)</author>
      <guid>https://yushuangqi.com/blog/2016/beegode-orm-pei-zhi-shu-ju-ku.html</guid>
      <description>https://segmentfault.com/a/
Object Relational Mapping,ç®€ç§°ORMï¼Œç”¨äºå®ç°é¢å‘å¯¹è±¡ç¼–ç¨‹è¯­è¨€é‡Œä¸é€šç±»å‹ç³»ç»Ÿçš„æ•°æ®ä¹‹é—´çš„è½¬æ¢ã€‚ä»æ•ˆæœä¸Šè¯´ï¼Œå®ƒå…¶å®æ˜¯åˆ›å»ºäº†ä¸€ä¸ªå¯åœ¨ç¼–ç¨‹è¯­è¨€é‡Œä½¿ç”¨çš„â€œè™šæ‹Ÿå¯¹è±¡æ•°æ®åº“â€ã€‚
beegoæ˜¯è°¢å¤§ç¥å¼€å‘çš„ä¸€ä¸ªå¿«é€Ÿå¼€å‘Goåº”ç”¨çš„Httpæ¡†æ¶ï¼Œä¸€ä¸ªRESTfulçš„æ¡†æ¶ã€‚
è®°å½•ä¸‹å¦‚ä½•åœ¨beegoä¸­é…ç½®æ•°æ®åº“ï¼Œä»¥MySqlä¸ºä¾‹
æ•°æ®åº“é€‰æ‹© ç›®å‰beegoçš„ORMæ”¯æŒä¸‰ç§æ•°æ®åº“:
1.Sqlite 2.PostgreSql 3.MySql  å¦‚æœè¦ä½¿ç”¨å…¶ä¸­çš„æ•°æ®åº“å¿…é¡»è¦æŠŠå¯¹åº”çš„drive(goè¯­è¨€å¯¹äºçš„æ•°æ®åº“å¼•æ“)åŠ å…¥åˆ°importä¸­:
import ( _ &amp;quot;github.com/go-sql-driver/mysql&amp;quot; _ &amp;quot;github.com/lib/pq&amp;quot; _ &amp;quot;github.com/mattn/go-sqlite3&amp;quot; )  æ•°æ®åº“æ³¨å†Œ  orm.RegisterDriver(&amp;ldquo;mysql&amp;rdquo;, orm.DRMySQL)
 è¿™å¥è¯çš„æ„æ€æ˜¯æ³¨å†Œäº†mysqlçš„æ•°æ®åº“,å½“ç„¶æˆ‘ä»¬è¦importè¿›æ¥å¯¹äºçš„ORMåŒ…:
import( &amp;quot;github.com/astaxie/beego/orm&amp;quot; )  ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯driverName,ç¬¬äºŒä¸ªå‚æ•°æ˜¯ormçš„ç±»å‹å¯¹äºä¸‰ç§æ•°æ®åº“:
orm.DRMySQL orm.DRSqlite orm.DRPostgres  æ•°æ®åº“è¿æ¥ beegoå¿…é¡»æ³¨å†Œä¸€ä¸ªåˆ«åä¸ºdefaultçš„æ•°æ®åº“ï¼Œä½œä¸ºé»˜è®¤ä½¿ç”¨ã€‚
 orm.RegisterDataBase(&amp;ldquo;default&amp;rdquo;, &amp;ldquo;mysql&amp;rdquo;, &amp;ldquo;test:123456@/test?charset=utf8&amp;rdquo;,30,30)
 ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ•°æ®åº“çš„åˆ«åï¼Œç”¨æ¥åˆ‡æ¢æ•°æ®åº“ä½¿ç”¨ã€‚
ç¬¬äºŒä¸ªæ˜¯driverNameï¼Œåœ¨RegisterDriveræ—¶æ³¨å†Œçš„
ç¬¬ä¸‰æ˜¯æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²:test:123456@/test?charset=utf8ç›¸å¯¹äºç”¨æˆ·å:å¯†ç @æ•°æ®åº“åœ°å€+åç§°?å­—ç¬¦é›†
ç¬¬å››ä¸ªå‚æ•°ç›¸å½“äº:
 orm.SetMaxIdleConns(&amp;ldquo;default&amp;rdquo;, 30)
 è®¾ç½®æ•°æ®åº“çš„æœ€å¤§ç©ºé—²è¿æ¥ã€‚
ç¬¬äº”ä¸ªå‚æ•°ç›¸å½“äºï¼š
 orm.SetMaxOpenConns(&amp;ldquo;default&amp;rdquo;, 30)
 è®¾ç½®æ•°æ®åº“çš„æœ€å¤§æ•°æ®åº“è¿æ¥ã€‚
ç¬¬å››ä¸ªå‚æ•°å’Œç¬¬äº”ä¸ªå‚æ•°ä¹Ÿå¯ä»¥ä¸ä¼ å€¼ï¼Œä¼šä½¿ç”¨æ•°æ®åº“é»˜è®¤å€¼ï¼š
æ—¶åŒº æ›¾ç»æˆ‘é‡åˆ°è¿‡ä¸€ä¸ªé¡¹ç›®ï¼Œæ•°æ®åº“çš„æ—¶åŒºè®¾ç½®çš„ORMçš„æ—¶åŒºä¸ä¸€è‡´ï¼Œå¯¼è‡´åé¢çš„å¼€å‘ä¼šå¤æ‚å¾ˆå¤šã€‚beegoä¸­ä¼šä½¿ç”¨DefaultTimeLocæ¥ä¿è¯æ—¶é—´ä¸ä¼šå‡ºé”™
beegoé»˜è®¤ä½¿ç”¨time.Localæœ¬åœ°æ—¶åŒºï¼Œå¯ä»¥ç”¨æ¥è‡ªåŠ¨åˆ›å»ºæ—¶é—´ï¼Œä»æ•°æ®ä¸­å–å‡ºæ—¶é—´è½¬æ¢ã€‚
 orm.DefaultTimeLoc = time.UTC
 å¯ä»¥è®¾ç½®é»˜è®¤çš„æ—¶åŒºã€‚</description>
    </item>
    
    <item>
      <title>beegoä¸‹æ ¹æ®éƒ¨ç½²ç¯å¢ƒåŠ è½½ç›¸åº”é…ç½®æ–‡ä»¶</title>
      <link>https://yushuangqi.com/blog/2016/beegoxia-gen-ju-bu-shu-huan-jing-jia-zai-xiang-ying-pei-zhi-wen-jian.html</link>
      <pubDate>Sat, 31 Dec 2016 11:33:40 +0800</pubDate>
      <author>ysqi@yushuangqi.com (è™åŒé½)</author>
      <guid>https://yushuangqi.com/blog/2016/beegoxia-gen-ju-bu-shu-huan-jing-jia-zai-xiang-ying-pei-zhi-wen-jian.html</guid>
      <description>https://segmentfault.com/a/
æœ€è¿‘ç”¨beegoå¼€å‘çš„é¡¹ç›®é¢‘ç¹çš„è¦éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒææµ‹ï¼Œç„¶åéƒ¨ç½²åˆ°çº¿ä¸Šå‘å¸ƒï¼Œç”±äºä¸¤ç§ç¯å¢ƒä¸‹é…ç½®æ–‡ä»¶ä¸­æŸäº›é…ç½®å‚æ•°ä¸åŒï¼Œæ¯æ¬¡æ‰‹åŠ¨ä¿®æ”¹å¾ˆæ˜¯éº»çƒ¦ï¼Œæ•…è€Œæƒ³æœ‰æ²¡æœ‰åŠæ³•èƒ½æ ¹æ®éƒ¨ç½²ç¯å¢ƒçš„ä¸åŒåŠ è½½ç›¸åº”ç¯å¢ƒçš„é…ç½®å˜é‡ã€‚
å¹¸è€Œå¾—åŒäº‹å‘ŠçŸ¥ï¼Œä¸¤ç§ç¯å¢ƒä¸‹éƒ½ä¼šæ³¨å…¥ENV_CLUSTERè¿™ä¸ªç³»ç»Ÿç¯å¢ƒå˜é‡ï¼Œä¸”å˜é‡å€¼ä¸åŒã€‚äºæ˜¯ï¼Œåœ¨mainå‡½æ•°beego.Run()æ‰§è¡Œå‰ï¼Œæˆ‘åˆ›å»ºäº†ä¸€ä¸ªé¢„å…ˆæ‰§è¡Œçš„initæ–‡ä»¶ï¼Œå°†è‡ªé€‚åº”ç¯å¢ƒåŠ è½½é…ç½®æ–‡ä»¶çš„ä»£ç é€»è¾‘æ”¾åœ¨äº†è¿™é‡Œã€‚
å…·ä½“ä»£ç å¦‚ä¸‹ï¼š
 env := os.Getenv(&amp;quot;ENV_CLUSTER&amp;quot;) if env == &amp;quot;online&amp;quot; { beego.AppConfigPath = &amp;quot;./conf/online.conf&amp;quot; } else if env == &amp;quot;beta&amp;quot; { beego.AppConfigPath = &amp;quot;./conf/beta.conf&amp;quot; } else { beego.AppConfigPath = &amp;quot;./conf/dev.conf&amp;quot; } beego.ParseConfig()  </description>
    </item>
    
    <item>
      <title>beegoè‡ªåŠ¨åŒ–éƒ¨ç½²</title>
      <link>https://yushuangqi.com/blog/2016/beegozi-dong-hua-bu-shu.html</link>
      <pubDate>Sat, 31 Dec 2016 11:33:34 +0800</pubDate>
      <author>ysqi@yushuangqi.com (è™åŒé½)</author>
      <guid>https://yushuangqi.com/blog/2016/beegozi-dong-hua-bu-shu.html</guid>
      <description>beegoæ˜¯Golangå†™çš„åº”ç”¨ç¨‹åºå¼€æºæ¡†æ¶http://beego.me/ï¼Œæˆ‘ä½¿ç”¨beegoå†™äº†ä¸€ä¸ªé¡¹ç›®å°é¡¹ç›®ï¼Œgolangæ˜¯ç¼–è¯‘è¯­è¨€ï¼Œéœ€è¦ç¼–è¯‘ä¹‹åå†éƒ¨ç½²ï¼Œæ¯æ¬¡éƒ¨ç½²åˆ°æœåŠ¡ä¸Šæ˜¯ä»¶å¾ˆéº»çƒ¦çš„äº‹æƒ…ã€‚å°±å†™äº†ä¸€ä¸ªè‡ªåŠ¨æ‰“åŒ…éƒ¨ç½²åˆ°æœåŠ¡å™¨çš„è„šæœ¬ï¼Œæ–¹ä¾¿å‘å¸ƒéƒ¨ç½²ã€‚
é¡¹ç›®ç»“æ„ å…ˆçœ‹çœ‹beegoé¡¹ç›®çš„ç»“æ„ï¼š
beepkg |-- conf | `-- app.conf |-- controllers | `-- default.go |-- main.go |-- models |-- routers | `-- router.go |-- static | |-- css | |-- img | `-- js |-- tests | `-- default_test.go `-- views `-- index.tpl  å…¶ä¸­controllersï¼Œviews.modelsä»¥åŠå…¶ä»–çš„.goæ–‡ä»¶ä¼šè¢«æ‰“åŒ…æˆå¯æ‰§è¡Œæ–‡ä»¶beepkgã€‚
è€Œé™æ€æ–‡ä»¶staticä»¥åŠconfæ–‡ä»¶ä¸ä¼šè¢«ç¼–è¯‘ï¼Œéœ€è¦æ‰“åŒ…ä¸Šä¼ éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šã€‚
å› æ­¤åœ¨æ‰“åŒ…æ–‡ä»¶çš„æ—¶å€™éœ€è¦å¿½ç•¥ä¸€äº›æ–‡ä»¶ï¼š
1.goæ–‡ä»¶ï¼Œå·²ç»ç¼–è¯‘æˆå¯æ‰§è¡Œæ–‡ä»¶ 2.æœ¬åœ°ç”Ÿæˆçš„ä¸€äº›ä¸´æ—¶æ–‡ä»¶ 3.é¡¹ç›®çš„ä¸€äº›é…ç½®æ–‡ä»¶  å› æ­¤æˆ‘ä»¬åœ¨ä½¿ç”¨bee packæ‰“åŒ…çš„æ—¶å€™éœ€è¦å¿½ç•¥è¿™äº›æ–‡ä»¶ï¼Œbee packåœ¨ç¼–è¯‘ä¹‹åå‹ç¼©çš„çš„æ—¶å€™ä¼šé»˜è®¤å¿½ç•¥è¿™ä¸‰ç§æ–‡ä»¶:.go:.DS_Store:.tmpã€‚å› æ­¤æˆ‘ä»¬åªéœ€è¦å¿½ç•¥å…¶ä»–çš„æ–‡ä»¶å³å¯ã€‚
ä½¿ç”¨å‘½ä»¤-exrç”¨æ­£åˆ™è¡¨è¾¾å¼å¿½ç•¥æ–‡ä»¶ï¼š
 bee pack -be GOOS=linux -ba -exr=&amp;rsquo;\^[0-9a-f]|[*.iml]\$&amp;rsquo;
 å› ä¸ºä½¿ç”¨äº†æ–‡ä»¶å­˜å‚¨çš„sessionï¼Œæœ¬åœ°ç›®å½•ä¸‹ä¼šç”Ÿæˆsessionçš„æ–‡ä»¶å¤¹éœ€è¦å¿½ç•¥æ‰“åŒ…[0-9a-f],[*.iml]æ˜¯IntelliJç”Ÿæˆçš„é¡¹ç›®é…ç½®æ–‡ä»¶,åœ¨æ‰“åŒ…çš„æ—¶å€™éœ€è¦å¿½ç•¥è¿™äº›æ–‡ä»¶ã€‚
æ‰“åŒ…è„šæœ¬ æ‰“åŒ…beegoé¡¹ç›®ï¼ŒåŒæ­¥åˆ°æœåŠ¡ç«¯ï¼Œéœ€è¦åšä¸‰ä»¶äº‹æƒ…:
1.æ›´æ–°ä»£ç  2.ç¼–è¯‘å¯æ‰§è¡Œæ–‡ä»¶ï¼Œæ‰“åŒ…èµ„æº 3.åŒæ­¥åˆ°å‹ç¼©åŒ…åˆ°æœåŠ¡å™¨ 4.</description>
    </item>
    
    <item>
      <title>å¯¹beegoçš„æ§åˆ¶å™¨å‡½æ•°è¿›è¡Œå•æµ‹</title>
      <link>https://yushuangqi.com/blog/2016/dui-beegode-kong-zhi-qi-han-shu-jin-hang-chan-ce.html</link>
      <pubDate>Sat, 31 Dec 2016 11:32:58 +0800</pubDate>
      <author>ysqi@yushuangqi.com (è™åŒé½)</author>
      <guid>https://yushuangqi.com/blog/2016/dui-beegode-kong-zhi-qi-han-shu-jin-hang-chan-ce.html</guid>
      <description>æ ¹æ®astaxieå¤§ç¥çš„æ„è§ï¼Œåœ¨beegoä¸Šå¯¹controlleråšå•æµ‹æ¯”è¾ƒå›°éš¾ï¼Œä»–çš„å»ºè®®å°±æ˜¯æŠŠæ‰€æœ‰é€»è¾‘éƒ½æ‹†åˆ†å‡ºæ¥ï¼Œæ”¾åˆ°modelä¸­ã€‚ç„¶åå¯¹modelä¸­çš„publicå‡½æ•°è¿›è¡Œæµ‹è¯•ã€‚
ä½†æ˜¯è¿™å°±ä¼šå¤šå¾ˆå¤šå°è£…ï¼Œè€Œä¸”ï¼Œæœ‰äº›æ—¶å€™å¯¹controllerçš„æµ‹è¯•å¯èƒ½æ˜¯ç»•ä¸å¼€çš„ã€‚
å…¶å®å¯¹controllerè¿›è¡Œå•æµ‹ä¹Ÿä¸æ˜¯é‚£ä¹ˆéº»çƒ¦ï¼Œé‡ç‚¹å°±æ˜¯æŠŠhttpéœ€è¦çš„Requestå’ŒResponseWriteréœ€è¦çš„æ•°æ®éƒ½æ„é€ å‡ºæ¥å³å¯ã€‚
ä¸‹é¢æ˜¯æˆ‘çš„åšæ³•ğŸ‘‡é‡ç‚¹çœ‹ä»£ç å’Œæ³¨é‡Šå§ã€‚å¾ˆå¤šä»£ç æ˜¯self-explanation
package test import ( &amp;quot;github.com/astaxie/beego&amp;quot; &amp;quot;github.com/astaxie/beego/context&amp;quot; &amp;quot;github.com/astaxie/beego/session&amp;quot; &amp;quot;net/http&amp;quot; &amp;quot;net/url&amp;quot; &amp;quot;reflect&amp;quot; &amp;quot;testing&amp;quot; &amp;quot;youApp/controllers&amp;quot; ) func prepareController(c *beego.Controller) { c.Ctx = &amp;amp;context.Context{ Request: &amp;amp;http.Request{URL: &amp;amp;url.URL{Scheme: &amp;quot;http&amp;quot;, Host: &amp;quot;localhost&amp;quot;, Path: &amp;quot;/&amp;quot;}}, ResponseWriter: &amp;amp;fakeResponseWriter{}, } c.Ctx.Output = &amp;amp;context.BeegoOutput{Context: c.Ctx} c.Ctx.Input = &amp;amp;context.BeegoInput{Request: c.Ctx.Request} globalSessions, _ := session.NewManager(&amp;quot;memory&amp;quot;, `{&amp;quot;cookieName&amp;quot;:&amp;quot;gosessionid&amp;quot;,&amp;quot;gclifetime&amp;quot;:10}`) c.Ctx.Request.Header = http.Header{} c.Ctx.Request.AddCookie(&amp;amp;http.Cookie{Name: &amp;quot;gosessionid&amp;quot;, Value: &amp;quot;test&amp;quot;}) c.CruSession = globalSessions.SessionRegenerateId(c.Ctx.ResponseWriter, c.Ctx.Request) c.Data = map[interface{}]interface{}{} } func TestRecomputeBanlance(t *testing.T) { c := &amp;amp;controllers.BanlanceController{} prepareController(&amp;amp;(c.</description>
    </item>
    
    <item>
      <title>åœ¨Beegoä¸­ä½¿ç”¨Jadeæ¨¡æ¿</title>
      <link>https://yushuangqi.com/blog/2016/zai-beegozhong-shi-yong-jademo-ban.html</link>
      <pubDate>Sat, 31 Dec 2016 11:32:52 +0800</pubDate>
      <author>ysqi@yushuangqi.com (è™åŒé½)</author>
      <guid>https://yushuangqi.com/blog/2016/zai-beegozhong-shi-yong-jademo-ban.html</guid>
      <description>Jadeæ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„HTMLæ¨¡æ¿å¼•æ“ï¼Œå®ƒå—åˆ°Hamlçš„å½±å“,æ˜¯ä½¿ç”¨JavaScriptå®ç°çš„ã€‚Jadeåœ¨å®¢æˆ·ç«¯ä¹Ÿæœ‰æ”¯æŒï¼Œå®ƒçš„ä»£ç æ¯”htmlå¯è¯»æ€§è¦é«˜å¾ˆå¤šï¼ŒJadeæ˜¯ä¸€ä¸ªæ¯”è¾ƒå¸¸ç”¨çš„HTMLæ¨¡æ¿ã€‚
Beegoæ˜¯ä¸€ä¸ªgoè¯­è¨€çš„webåº”ç”¨ç¨‹åºå¼€æºwebæ¡†æ¶ï¼Œè€ŒBeegoä»1.7.0å¼€å§‹æ”¯æŒæ›´åŠ å¤æ‚çš„æ¨¡æ¿å¼•æ“ï¼Œå½“ç„¶ä¹ŸåŒ…æ‹¬äº†å¯¹äºjadeçš„æ”¯æŒï¼Œæ”¯æŒæ›´å¤æ‚æ¨¡æ¿å¼•æ“çš„PRåœ°å€https://github.com/astaxie/beego/pull/1940ã€‚
åœ¨ä»‹ç»Jadeçš„ä½¿ç”¨ä¹‹å‰å…ˆæ¥çœ‹ä¸‹Goä¸‹é¢çš„html/templateåŒ…ã€‚
html/template åœ¨Goè¯­è¨€ä¸­ï¼Œhtml/templateåŒ…æ˜¯ä¸€ä¸ªå¾ˆå¼ºå¤§çš„htmlæ¨¡æ¿åŒ…ï¼Œç»“åˆtext/templateçš„æ¨¡æ¿è¯­æ³•ï¼ŒåŸºæœ¬ä¸Šå¯ä»¥æ»¡è¶³å¤§éƒ¨åˆ†çš„HTMLæ¨¡æ¿éœ€æ±‚ï¼Œæ— è®ºæ˜¯Beegoä¸­æ˜¯é»˜è®¤æ”¯æŒçš„ä¸¤ç§æ¨¡æ¿æ ¼å¼.tplå’Œ.html,ä»¥åŠjadeå’Œaceéƒ½æ˜¯å¯ä»¥è§£æä¸ºhtml/templateä¸­çš„Templateå¯¹è±¡ä½¿ç”¨ï¼Œå°±æ˜¯è¯´æˆ‘ä»¬æ‰€ä½¿ç”¨çš„htmlæ¨¡æ¿æœ€ç»ˆéƒ½æ˜¯åŸºäºhtml/templateåŒ…å®ç°çš„ã€‚
html/templateä½¿ç”¨å®ä¾‹:
package main import ( &amp;quot;html/template&amp;quot; ) type User struct { Name string } func main() { t := template.New(&amp;quot;template example&amp;quot;) t, _ = t.Parse(&amp;quot;hello {{.Name}}!&amp;quot;) p := User{Name: &amp;quot;jjz&amp;quot;} t.Execute(os.Stdout, p) }  ä¸Šé¢çš„ä¾‹å­ä¼šè¾“å‡ºå­—ç¬¦ä¸²ï¼šhello jjzã€‚
é€šè¿‡ä¸Šé¢çš„ä¾‹å­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå¦‚ä½•æ–°å»ºä¸€ä¸ªæ¨¡æ¿ï¼Œå†ä½¿ç”¨æ¨¡æ¿å‡½æ•°Parse()ä»å­—ç¬¦ä¸²ä¸­åŠ è½½æ¨¡æ¿å†…å®¹ï¼Œä½¿ç”¨æ¨¡æ¿å‡½æ•°Execute()å¯ä»¥ç»™æ¨¡æ¿æ›¿æ¢å­—æ®µã€‚æ›¿æ¢æ¨¡æ¿å­—æ®µçš„è¯­æ³•,{{}}ä¸­çš„å­—æ®µå°±æ˜¯è¦æ›¿æ¢å­—æ®µ,{{. Name}}è¡¨ç¤ºéœ€è¦æ›¿æ¢çš„å­—æ®µåç§°ã€‚
Beegoä½¿ç”¨å¤æ‚æ¨¡æ¿çš„æ–¹å¼å¾ˆç®€å•ï¼Œå¢åŠ ä¸€ä¸ªæ¨¡æ¿å¼•æ“å‡½æ•°ï¼Œåœ¨é¡¹ç›®è¿è¡Œçš„æ—¶å€™éå†viewsä¸­çš„æ–‡ä»¶ï¼ŒæŠŠæŒ‡å®šçš„æ–‡ä»¶è§£æä¸ºtemplate.Templateå¯¹è±¡ï¼Œè¿”å›è¯¥å¯¹è±¡æä¾›ä½¿ç”¨ï¼Œè¿™ä¸ªæ¨¡æ¿å¼•æ“å‡½æ•°å°±æ˜¯ï¼š`beego.AddTemplateEngine
`ã€‚
AddTemplateEngine beego.AddTemplateEngineæ˜¯ä¸€ä¸ªç”¨æ¥æŠŠæŒ‡å®šçš„æ–‡ä»¶ï¼Œè½¬æ¢ä¸ºtemplate.Templateçš„å¯¹è±¡çš„å‡½æ•°ã€‚å®ƒçš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ–‡ä»¶çš„åç¼€åï¼Œåœ¨viewsä¸­çš„å«æœ‰æ­¤åç¼€åçš„æ–‡ä»¶éƒ½ä¼šè¿›å…¥è¯¥æ–¹æ³•è¿›è¡Œå¤„ç†ã€‚ä»–çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥å¤„ç†æ–‡ä»¶çš„è½¬æ¢ï¼Œæœ€åä¼šè¿”å›ä¸€ä¸ªtemplate.Templateçš„å¯¹è±¡ã€‚æœ‰äº†è¿™ä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬è¿˜å°‘ä¸€ä¸ªæŠŠjadeæ–‡ä»¶è§£æä¸ºtemplate.Templateçš„æ–¹æ³•ï¼Œè¿˜å¥½æœ‰äººå·²ç»åšäº†jadeçš„Goè¯­è¨€å®ç°ã€‚
jade.go jade.goæ˜¯Jadeçš„Goè¯­è¨€å®ç°ã€‚
jade.goçš„ä½¿ç”¨ï¼Œé¦–å…ˆå®‰è£…jade.goï¼š
 go get github.com/Joker/jade
 jade.goä½¿ç”¨ç¤ºä¾‹:
func main() { tpl, err := jade.Parse(&amp;quot;name_of_tpl&amp;quot;, &amp;quot;doctype 5: html: body: p Hello world!</description>
    </item>
    
    <item>
      <title>beegoormä¸­æ—¶åŒºçš„é—®é¢˜</title>
      <link>https://yushuangqi.com/blog/2016/beego-ormzhong-shi-ou-de-wen-ti.html</link>
      <pubDate>Sat, 31 Dec 2016 11:32:27 +0800</pubDate>
      <author>ysqi@yushuangqi.com (è™åŒé½)</author>
      <guid>https://yushuangqi.com/blog/2016/beego-ormzhong-shi-ou-de-wen-ti.html</guid>
      <description>https://segmentfault.com/a/
å…ˆçœ‹ç®€åŒ–åä»£ç ï¼Œä¸‹é¢åªåˆ—å‡ºmainå‡½æ•°
func main() { t := &amp;quot;2017-01-19 00:00:00&amp;quot; o := orm.NewOrm() qb, _ := orm.NewQueryBuilder(&amp;quot;mysql&amp;quot;) sql := qb.Select(&amp;quot;COUNT(*)&amp;quot;).From(&amp;quot;test&amp;quot;).Where(&amp;quot;create_time &amp;gt; ?&amp;quot;).String() o.Raw(sql, t).Exec() o.QueryTable(&amp;quot;test&amp;quot;).Filter(&amp;quot;create_time__gt&amp;quot;, t).Count() }  è¿™ä¹ˆçœ‹çš„è¯æ„Ÿè§‰ä¸¤ä¸ªSQLåº”è¯¥æ˜¯ç›¸åŒçš„ï¼š
[ORM] - 2017-01-19 19:28:02 - [Queries/default] - [ OK / db.Exec / 1.2ms] - [SELECT COUNT(*) FROM test WHERE create_time &amp;gt; ?] - `2017-01-19 00:00:00` [ORM] - 2017-01-19 19:28:02 - [Queries/default] - [ OK / db.QueryRow / 2.3ms] - [SELECT COUNT(*) FROM `test` T0 WHERE T0.</description>
    </item>
    
    <item>
      <title>beegoæ¡†æ¶æºç è§£è¯» config æ¨¡å—è®¾è®¡</title>
      <link>https://yushuangqi.com/blog/2016/beego-webframework-config.html</link>
      <pubDate>Sat, 13 Feb 2016 08:04:49 +0800</pubDate>
      <author>ysqi@yushuangqi.com (è™åŒé½)</author>
      <guid>https://yushuangqi.com/blog/2016/beego-webframework-config.html</guid>
      <description>è¿™æ˜¯å…³äº beego çš„ç¬¬ä¸€ç¯‡æ­£å¼çš„æºä»£ç è§£è¯»æ–‡ç« ï¼Œå‰é¢æ–‡ç«  beegoæ¡†æ¶æºç è§£è¯»è®¡åˆ’ ä¸­å·²ä»‹ç»è§£è¯»è®¡åˆ’ã€‚è€Œæœ¬æ–‡ä¸»è¦é’ˆå¯¹ beego æ¡†æ¶ config æ¨¡å—å±•å¼€è®¨è®ºã€‚é€šè¿‡æœ¬æ–‡ä½ å¯æŒæ¡ beego config ä½¿ç”¨ã€‚
config ç®€è¦è¯´æ˜ beego çš„å„ä¸ªæ¨¡å—è®¾è®¡åŸºæœ¬ç›¸åŒï¼Œçµæ„Ÿæºäº Go å†…éƒ¨ database/sql åŒ…çš„ sqlåº“é©±åŠ¨æ³¨å†Œ ã€‚æ¨¡å—å®ç°åè¿›è¡Œæ³¨å†Œï¼Œä½¿ç”¨æ—¶é€šè¿‡æ³¨å†Œåè¿›è¡Œè®¿é—®åˆå§‹åŒ–ã€‚ è€Œ config æ¨¡å—ä¹Ÿç›¸åŒã€‚åˆ†åˆ«æ”¯æŒ iniã€jsonã€xmlã€yamlã€å†…å­˜ æ ¼å¼çš„é…ç½®æ–‡ä»¶ç®¡ç†ã€‚ä½¿ç”¨æ—¶è°ƒç”¨config.NewConfig(&amp;quot;ini&amp;quot;, &amp;quot;config path&amp;quot;)æ¥æ„å»ºä¸åŒæ ¼å¼ config è§£æå™¨ã€‚
åˆå§‹åŒ– config è§£æå™¨ é¦–å…ˆéœ€ç¡®è®¤æ‰€ç”¨çš„é…ç½®æ–‡ä»¶æ ¼å¼ï¼Œbeego çš„ appconfig é»˜è®¤ä½¿ç”¨ iniã€‚ å†é€šè¿‡ç±»å‹åˆå§‹åŒ–é…ç½®æ–‡ä»¶è§£æå™¨å¯¹è±¡ã€‚
import ( &amp;#34;github.com/astaxie/beego/config&amp;#34; ) func main() { cfg, err := config.NewConfig(&amp;#34;ini&amp;#34;, &amp;#34;myconfig.ini&amp;#34;) if err != nil { // error 	} } ä½¿ç”¨ config æ¨¡å—æ—¶éœ€è¦å¯¼å…¥github.com/astaxie/beego/configåŒ… ï¼Œå†è°ƒç”¨config.NewConfigæ¥æŒ‡å®šæ–‡ä»¶ç±»å‹ï¼Œå¹¶åŠ è½½è§£æ myconfig.ini é…ç½®æ–‡ä»¶ã€‚å½“åŠ è½½è§£æå¤±è´¥æ—¶ï¼Œä¼šè¿”å›é”™è¯¯ä¿¡æ¯ï¼Œæ•…ä¸èƒ½å¿½ç•¥è¯¥é”™è¯¯ä¿¡æ¯ã€‚
å½“ç„¶ï¼Œä¹Ÿå¯ä»¥ç›´æ¥è§£æ []byte æ•°æ®ï¼Œæ„å»ºè§£æå™¨ã€‚è¿™æ ·åšæ³•ä¸å¸¸è§ï¼Œæœ‰æ—¶èƒ½ç”¨äºè§£æé…ç½®ç‰‡æ–­ã€‚</description>
    </item>
    
    <item>
      <title>beegoæ¡†æ¶æºç è§£è¯»è®¡åˆ’</title>
      <link>https://yushuangqi.com/blog/2016/beego-webframework-analysis-plan.html</link>
      <pubDate>Thu, 11 Feb 2016 13:14:14 +0800</pubDate>
      <author>ysqi@yushuangqi.com (è™åŒé½)</author>
      <guid>https://yushuangqi.com/blog/2016/beego-webframework-analysis-plan.html</guid>
      <description>&lt;p&gt;å¤§å®¶æ–°å¹´å¥½ï¼Œä»Šå¤©å¤§å¹´åˆå››ï¼Œè§„åˆ’ä¸‹å¯¹äºå¼€æº web æ¡†æ¶ beego æºä»£ç è§£è¯»è®¡åˆ’å®‰æ’ã€‚åœ¨å¹´å‰ä¾¿ä¸€ç›´åœ¨æƒ³å¦‚ä½•è¿›è¡Œä¸€æ¬¡æ˜ç¡®çš„æºç è§£æã€‚ä½†ä¸€ç›´æ‹–è‡³ä»Šæ—¥æ‰å®‰æ’ã€‚ä¹Ÿåœ¨æ€è€ƒå¦‚ä½•è¿›è¡Œå­¦ä¹ æ˜¯åˆé€‚çš„ã€‚
&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>BeegoOrmInsertè®°å½•æ—¶æŠ¥é”™</title>
      <link>https://yushuangqi.com/blog/2015/beego-orm-insert-error.html</link>
      <pubDate>Fri, 18 Sep 2015 08:22:13 +0000</pubDate>
      <author>ysqi@yushuangqi.com (è™åŒé½)</author>
      <guid>https://yushuangqi.com/blog/2015/beego-orm-insert-error.html</guid>
      <description>å‰å‡ å¤©åœ¨ä½¿ç”¨Beegoçš„ORMå¾€Mysqlä¸­å†™å…¥æ•°æ®æ—¶å¤±è´¥ï¼Œè¿™é‡Œè®°å½•ä¸‹åŸå› ã€‚
å½“æ—¶ä»£ç æ˜¯è¿™æ ·å†™çš„
o,err := orm.NewOrm() if err!=nil{ return err } record := &amp;amp;models.User{} err=o.Insert(&amp;amp;record) if err!=nil { return err } åœ¨æ‰§è¡Œæ­¤ä»£ç æŠ¥é”™ï¼Œé”™è¯¯ä¿¡æ¯ï¼š
&amp;lt;Ormer&amp;gt; table: `.` not found, maybe not RegisterModel ä¸Šé¢ä»£ç çš„é”™è¯¯æ€§æ˜¯å¦éå¸¸æ˜æ˜¾çš„ï¼Œæ˜¯å› ä¸ºæœ¬èº«recordæ˜¯æŒ‡é’ˆå¯¹æ€§ï¼Œè€Œåœ¨Insertæ—¶åˆä¼ å…¥çš„æ˜¯æŒ‡é’ˆçš„æŒ‡é’ˆ&amp;amp;record
æ¥çœ‹ä¸‹Beego ORM å†…éƒ¨æ˜¯å¦‚ä½•è·å–è¡¨åçš„ æºä»£ç å¦‚ä¸‹ï¼š
// get model info and model reflect value func (o *orm) getMiInd(md interface{}, needPtr bool) (mi *modelInfo, ind reflect.Value) { val := reflect.ValueOf(md) ind = reflect.Indirect(val) typ := ind.Type() if needPtr &amp;amp;&amp;amp; val.Kind() != reflect.Ptr { panic(fmt.</description>
    </item>
    
  </channel>
</rss>